# Security NFR для Workout Log

## Нефункциональные требования безопасности

| ID     | Название | Описание | Метрика/Порог                           | Проверка | Компонент | Приоритет |
|--------|----------|-----------|-----------------------------------------|----------|-----------|-----------|
| NFR-01 | Конфиденциальность тренировок | Данные тренировок доступны только владельцу | 0 несанкционированных доступов в тестах | unit-тесты + аудит логов | auth | High      |
| NFR-02 | Время ответа статистики | p95 GET /stats при 100 RPS | ≤ 2 s                                   | нагрузочное тестирование | api | High      |
| NFR-03 | Доступность данных тренировок | Данные не теряются при перезапуске | 100% сохранность в тестах               | unit-тесты persistence | database | High |
| NFR-04 | Стабильность API | Коды ответов 2xx/4xx/5xx | 5xx ошибок < 0.5% от общего трафика     | Prometheus + алерты | api | High      |
| NFR-05 | Защита от brute-force | Временная блокировка IP после 5 неудачных логинов за 5 мин | Блокировка на 15 мин                    | мониторинг failed attempts | auth | High      |
| NFR-06 | Время запроса тренировок | p95 GET /workouts | ≤ 300 ms                                | мониторинг БД | database | Medium    |
| NFR-07 | Хэширование паролей | Использование bcrypt с cost=12 | 100% покрытие                           | code review + тесты | auth | High      |
| NFR-08 | Безопасные ошибки | Отсутствие stack trace в продакшене | 0 stack trace в ответах API             | security testing | api | Medium    |
| NFR-09 | Аудит действий | Логируются все CRUD операции | 80% coverage                            | аудит логов | logging | Medium    |
